{% extends 'layout.html' %}

{% block nav %}
    {% include 'students/nav.html' %}
{% endblock %}

{% block content %}

<h1>Tutti i corsi</h1>

{% for name, sublist in courses %}
    <div class="accordion" id="accordionCourses">

        <div class="accordion-item mb-3">
            <h2 class="accordion-header" id="heading{{name}}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{name}}" aria-expanded="false" aria-controls="collapse{{name}}">
                <strong>{{name}}</strong>
              </button>
            </h2>
            <div id="collapse{{name}}" class="accordion-collapse collapse" aria-labelledby="heading{{name}}" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Titolo</th>
                            <th scope="col">Descrizione</th>
                            <th scope="col">Creatore</th>
                            <th scope="col">Data Creazione</th>
                            <th scope="col">Numero iscrizioni massime</th>
                            <th scope="col">Disponibilit√†</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for course in sublist %}    
                        <tr>
                            <th scope="row">{{course.Course.c_name}}</th>
                            <td>{{course.Course.description}}</td>
                            <td>{{course.User.first_name}} {{course.User.last_name}}</td>
                            <td>{{course.Course.creation_date}}</td>
                            <td>{{course.Course.max_partecipants}}</td>
                            <td><button type="button" class="btn btn-success">Iscriviti</button></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
              </div>
            </div>
        </div>
    </div>
{% endfor %}


{% endblock content %}
